// Copyright Titanium I.T. LLC. All rights reserved. For license, see "README" or "LICENSE" file.

// ESLint is our linter.

const ERROR = "error";
const IGNORE = "off";
const UNSUPPORTED = "off";    // turned off because it doesn't work in JavaScript branch
const DEPRECATED = "off";     // turned off because this option has been deprecated

export default {
	"parser": "@typescript-eslint/parser",
	"plugins": [
		"@typescript-eslint",
	],

	"parserOptions": {
		"ecmaVersion": 2022,
		"sourceType": "module",
		"ecmaFeatures": {
			"jsx": true,
		},
	},

	"env": {
		"node": true,
		"browser": true,
	},

	"globals": {
		"globals": false,
		"Map": false,
		"Promise": false,
	},

	"rules": {
		// "Possible Errors" (according to ESLint docs)
		"no-compare-neg-zero": ERROR,
		"no-cond-assign": ERROR,
		"no-constant-condition": ERROR,
		"no-control-regex": ERROR,
		"no-dupe-args": ERROR,
		"no-dupe-keys": ERROR,
		"no-duplicate-case": ERROR,
		"no-empty-character-class": ERROR,
		"no-ex-assign": ERROR,
		"no-extra-boolean-cast": ERROR,
		"@typescript-eslint/no-extra-semi": ERROR,
		"no-func-assign": ERROR,
		"no-inner-declarations": ERROR,
		"no-invalid-regexp": ERROR,
		"no-irregular-whitespace": ERROR,
		"no-obj-calls": ERROR,
		"no-sparse-arrays": ERROR,
		"no-template-curly-in-string": ERROR,
		"no-unexpected-multiline": ERROR,
		"no-unsafe-finally": ERROR,
		"no-unsafe-negation": ERROR,
		"use-isnan": ERROR,
		"valid-typeof": ERROR,

		// "Best Practices"
		"eqeqeq": ERROR,
		"no-caller": ERROR,
		"no-case-declarations": ERROR,
		"no-empty-pattern": ERROR,
		"no-eq-null": ERROR,
		"no-eval": ERROR,
		"no-extend-native": ERROR,
		"no-fallthrough": ERROR,
		"no-global-assign": ERROR,
		"no-implicit-globals": ERROR,
		"no-implied-eval": ERROR,
		"no-iterator": ERROR,
		"@typescript-eslint/no-loop-func": ERROR,
		"no-octal": ERROR,
		"no-octal-escape": ERROR,
		"no-proto": ERROR,
		"no-redeclare": ERROR,
		"no-restricted-properties": ERROR,
		"no-return-assign": ERROR,
		"no-return-await": IGNORE,
		"no-script-url": ERROR,
		"no-self-assign": ERROR,
		"no-self-compare": ERROR,
		"no-throw-literal": ERROR,
		"no-useless-escape": ERROR,
		"no-with": ERROR,
		"prefer-promise-reject-errors": ERROR,
		"radix": ERROR,
		"require-await": IGNORE,

		// "Strict Mode"
		"strict": [ ERROR, "safe" ],

		// "Variables"
		"no-delete-var": ERROR,
		"no-undef": ERROR,
		"no-undef-init": ERROR,
		"no-use-before-define": IGNORE,
		"@typescript-eslint/no-use-before-define": [ ERROR, {
			functions: false,
			classes: false,
			variables: false,
			enums: false,
			typedefs: false,
			ignoreTypeReferences: false,
		}],

		// "Stylistic Issues"
		"new-cap": IGNORE,
		"no-bitwise": ERROR,
		"no-mixed-spaces-and-tabs": IGNORE,
		"@typescript-eslint/semi": [ ERROR, "always" ],

		// "ECMAScript 6"
		"constructor-super": ERROR,
		"no-class-assign": ERROR,
		"no-confusing-arrow": ERROR,
		"no-const-assign": ERROR,
		"@typescript-eslint/no-dupe-class-members": ERROR,
		"@typescript-eslint/no-duplicate-imports": ERROR,
		"no-new-symbol": ERROR,
		"no-this-before-super": ERROR,
		"no-var": ERROR,
		"require-yield": ERROR,

		// TypeScript (see https://typescript-eslint.io/rules)
		"@typescript-eslint/adjacent-overload-signatures": ERROR,
		"@typescript-eslint/array-type": ERROR,
		"@typescript-eslint/await-thenable": UNSUPPORTED,
		"@typescript-eslint/ban-ts-comment": [ ERROR, { "ts-ignore": "allow-with-description" }],
		"@typescript-eslint/ban-tslint-comment": ERROR,
		"@typescript-eslint/ban-types": [ ERROR, { types: { Function: false }}],
		"@typescript-eslint/class-literal-property-style": UNSUPPORTED,
		"@typescript-eslint/consistent-generic-constructors": ERROR,
		"@typescript-eslint/consistent-indexed-object-style": ERROR,
		"@typescript-eslint/consistent-type-assertions": IGNORE,
		"@typescript-eslint/consistent-type-definitions": ERROR,
		"@typescript-eslint/consistent-type-exports": UNSUPPORTED,
		"@typescript-eslint/consistent-type-imports": IGNORE,
		"@typescript-eslint/explicit-function-return-type": UNSUPPORTED,
		"@typescript-eslint/explicit-member-accessibility": UNSUPPORTED,
		"@typescript-eslint/explicit-module-boundary-types": UNSUPPORTED,
		"@typescript-eslint/member-delimiter-style": IGNORE,
		"@typescript-eslint/member-ordering": IGNORE,
		"@typescript-eslint/method-signature-style": IGNORE,
		"@typescript-eslint/naming-convention": IGNORE,
		"@typescript-eslint/no-base-to-string": UNSUPPORTED,
		"@typescript-eslint/no-confusing-non-null-assertion": IGNORE,
		"@typescript-eslint/no-confusing-void-expression": UNSUPPORTED,
		"@typescript-eslint/no-duplicate-enum-values": ERROR,
		"@typescript-eslint/no-dynamic-delete": IGNORE,
		"@typescript-eslint/no-empty-interface": ERROR,
		"@typescript-eslint/no-explicit-any": IGNORE,
		"@typescript-eslint/no-extra-non-null-assertion": ERROR,
		"@typescript-eslint/no-extraneous-class": UNSUPPORTED,
		"@typescript-eslint/no-floating-promises": UNSUPPORTED,
		"@typescript-eslint/no-for-in-array": UNSUPPORTED,
		"@typescript-eslint/no-implicit-any-catch": DEPRECATED,
		"@typescript-eslint/no-import-type-side-effects": ERROR,
		"@typescript-eslint/no-inferrable-types": IGNORE,
		"@typescript-eslint/no-invalid-void-type": ERROR,
		"@typescript-eslint/no-meaningless-void-operator": UNSUPPORTED,
		"@typescript-eslint/no-misused-new": ERROR,
		"@typescript-eslint/no-misused-promises": UNSUPPORTED,
		"@typescript-eslint/no-mixed-enums": UNSUPPORTED,
		"@typescript-eslint/no-namespace": ERROR,
		"@typescript-eslint/no-non-null-asserted-nullish-coalescing": ERROR,
		"@typescript-eslint/no-non-null-asserted-optional-chain": ERROR,
		"@typescript-eslint/no-non-null-assertion": IGNORE,
		"@typescript-eslint/no-parameter-properties": DEPRECATED,
		"@typescript-eslint/no-redundant-type-constituents": UNSUPPORTED,
		"@typescript-eslint/no-require-imports": ERROR,
		"@typescript-eslint/no-this-alias": IGNORE,
		"@typescript-eslint/no-type-alias": IGNORE,
		"@typescript-eslint/no-unnecessary-boolean-literal-compare": UNSUPPORTED,
		"@typescript-eslint/no-unnecessary-condition": UNSUPPORTED,
		"@typescript-eslint/no-unnecessary-qualifier": UNSUPPORTED,
		"@typescript-eslint/no-unnecessary-type-arguments": UNSUPPORTED,
		"@typescript-eslint/no-unnecessary-type-assertion": UNSUPPORTED,
		"@typescript-eslint/no-unnecessary-type-constraint": ERROR,
		"@typescript-eslint/no-unsafe-argument": UNSUPPORTED,
		"@typescript-eslint/no-unsafe-assignment": UNSUPPORTED,
		"@typescript-eslint/no-unsafe-call": UNSUPPORTED,
		"@typescript-eslint/no-unsafe-declaration-merging": ERROR,
		"@typescript-eslint/no-unsafe-member-access": UNSUPPORTED,
		"@typescript-eslint/no-unsafe-return": UNSUPPORTED,
		"@typescript-eslint/no-useless-empty-export": ERROR,
		"@typescript-eslint/no-var-requires": ERROR,
		"@typescript-eslint/non-nullable-type-assertion-style": UNSUPPORTED,
		"@typescript-eslint/parameter-properties": IGNORE,
		"@typescript-eslint/prefer-as-const": ERROR,
		"@typescript-eslint/prefer-enum-initializers": IGNORE,
		"@typescript-eslint/prefer-for-of": IGNORE,
		"@typescript-eslint/prefer-function-type": IGNORE,
		"@typescript-eslint/prefer-includes": UNSUPPORTED,
		"@typescript-eslint/prefer-literal-enum-member": ERROR,
		"@typescript-eslint/prefer-namespace-keyword": ERROR,
		"@typescript-eslint/prefer-nullish-coalescing": UNSUPPORTED,
		"@typescript-eslint/prefer-optional-chain": ERROR,
		"@typescript-eslint/prefer-readonly": UNSUPPORTED,
		"@typescript-eslint/prefer-readonly-parameter-types": UNSUPPORTED,
		"@typescript-eslint/prefer-reduce-type-parameter": UNSUPPORTED,
		"@typescript-eslint/prefer-regexp-exec": UNSUPPORTED,
		"@typescript-eslint/prefer-return-this-type": UNSUPPORTED,
		"@typescript-eslint/prefer-string-starts-ends-with": UNSUPPORTED,
		"@typescript-eslint/prefer-ts-expect-error": IGNORE,
		"@typescript-eslint/promise-function-async": UNSUPPORTED,
		"@typescript-eslint/require-array-sort-compare": UNSUPPORTED,
		"@typescript-eslint/restrict-plus-operands": UNSUPPORTED,
		"@typescript-eslint/restrict-template-expressions": UNSUPPORTED,
		"@typescript-eslint/sort-type-constituents": IGNORE,
		"@typescript-eslint/sort-type-union-intersection-members": IGNORE,
		"@typescript-eslint/strict-boolean-expressions": UNSUPPORTED,
		"@typescript-eslint/switch-exhaustiveness-check": UNSUPPORTED,
		"@typescript-eslint/triple-slash-reference": ERROR,
		"@typescript-eslint/type-annotation-spacing": IGNORE,
		"@typescript-eslint/typedef": IGNORE,
		"@typescript-eslint/unbound-method": UNSUPPORTED,
		"@typescript-eslint/unified-signatures": ERROR,
	}
};
